@model FIVESTARVC.Models.Resident
@using FIVESTARVC.Models;

@{
    Layout = null;
}


@using (Html.BeginForm("Discharge", "Residents"))
{
    @Html.AntiForgeryToken()

    <h4>Discharge @Model.Fullname</h4>
    <p> Are you sure you want to discharge this resident from your center?</p>
    <br />
    @Html.ValidationSummary(true, "")
    @Html.HiddenFor(model => model.ResidentID)

    <div class="container">
        <div class="row">

            <div class="table-responsive">
                <table class="table table-sm">

                    <tbody>
                        <tr>

                            <td class="col-form-label">

                                @Html.LabelFor(model => model.LastName, htmlAttributes: new { @class = "control-label" })
                            </td>
                            <td>
                                @(Model.LastName)
                            </td>

                        </tr>
                        <tr>
                            <td class="col-form-label">@Html.LabelFor(model => model.FirstMidName, htmlAttributes: new { @class = "control-label" })</td>
                            <td>
                                @(Model.FirstMidName)
                            </td>
                        </tr>
                        <tr>
                            <td class="col-form-label">@Html.LabelFor(model => model.Birthdate, htmlAttributes: new { @class = "control-label" })</td>
                            <td>
                                @(Model.Birthdate.Value.ToLongDateString())
                            </td>
                        </tr>
                        <tr>
                            <td class="col-form-label"> @Html.LabelFor(model => model.ServiceBranch, htmlAttributes: new { @class = "control-label" })</td>
                            <td>
                                @{
                                    var serviceDescription = FSEnumHelper.GetDescription(Model.ServiceBranch);


                                    @Html.DisplayFor(modelItem => serviceDescription)
                                }
                            </td>
                        </tr>
                        <tr>
                            <td class="col-form-label"> @Html.LabelFor(model => model.RoomNumber, htmlAttributes: new { @class = "control-label" })</td>
                            <td>
                                @ViewBag.releaseRoom
                            </td>
                        </tr>


                    </tbody>
                </table>



                <div class="form-group">
                    @Html.Label("Discharge Reason", htmlAttributes: new { @class = "control-label" })
                    <div>
                        @Html.DropDownList("ProgramTypeID", null, htmlAttributes: new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.ProgramEvents, "")
                    </div>
                    @Html.LabelFor(model => model.Note, htmlAttributes: new { @class = "control-label" })
                    <div>
                        @Html.TextAreaFor(model => model.Note, htmlAttributes: new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Note, "")
                    </div>
                </div>
            </div>

        </div>


    <div class="row">
        <div class="form-group form-inline">
            <div class="btn-toolbar mr-1">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">
                    Cancel
                </button>
            
                <input type="submit" value="Discharge" 
                       class="btn btn-danger"
                       style="margin-left: 5px;"/>
            </div>

        </div>
        </div>

    </div>
}



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        $(function () {
            $('#submit-btn').click(function () {
                $('#modal-container').modal('hide');
            });
        });
    </script>

}
